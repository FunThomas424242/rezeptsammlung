<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <link href="css/styles.css" th:href="@{/css/styles.css}" rel="stylesheet" type="text/css"/>
    <title>Spring Boot Application</title>

    <script th:inline="javascript">
        if ('serviceWorker' in navigator) {
          // higher scope needed: response.setHeader("Service-Worker-Allowed", "/"); at server
          navigator.serviceWorker.register([[@{/js/service-worker.js}]], {scope: [[@{/}]]}).then(function(registration) {
            document.querySelector('#log').textContent = 'succeeded';
          }).catch(function(error) {
            document.querySelector('#log').textContent = error;
          });
        } else {
          // Der verwendete Browser unterst√ºtzt Service Worker nicht.
          var aElement = document.createElement('a');
          aElement.href = 'http://www.chromium.org/blink/serviceworker/service-worker-faq';
          aElement.textContent = 'unavailable';
          document.querySelector('#status').appendChild(aElement);
        }
    </script>
</head>
<body>
<script src="webcomponents/suggestion/componentModule.js"
        th:src="@{/webcomponents/suggestion/componentModule.js}"
        type="module"> </script>

<h1>Welcome to Thymeleaf Spring Boot web application</h1>

<a th:href="@{/rezeptliste}">Rezeptliste</a>

<suggestion-input suggesterurl="http:localhost:8080/rezeptsammlung/api/rezepte/tags"
                  suggesterparametername="taglist"
></suggestion-input>

<div id="log"></div>

</body>
</html>
